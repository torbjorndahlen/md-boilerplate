!function n(t,e,r){function o(u,c){if(!e[u]){if(!t[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var f=e[u]={exports:{}};t[u][0].call(f.exports,function(n){var e=t[u][1][n];return o(e?e:n)},f,f.exports,n,t,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(n,t,e){"use strict";e.green=function(n){return n},e.yellow=function(n){return n},e.red=function(n){return n},e.magenta=function(n){return n},e.green=function(n){return n}},{}],2:[function(n,t,e){"use strict";t.exports={DBG:0,INF:1,WRN:2,ERR:3}},{}],3:[function(n,t,e){"use strict";function r(n){var t=u.invert(a)[n.level],e=n.colourise||!0;if(e)switch(n.level){case a.DBG:t=l.magenta(t);break;case a.INF:t=l.green(t);break;case a.WRN:t=l.yellow(t);break;case a.ERR:t=l.red(t)}return t}function o(n,t){t=Array.prototype.slice.call(t);var e=Date.now(),o=r(n),u="",c=n.name;this.text=i.format.apply(i,t),u=i.format("%s %s %s: ",new Date(e).toJSON(),o,c),"string"==typeof t[0]&&(t[0]=u+t[0]),this.formattedText=i.format.apply(i,t),this.ts=e,this.level=n.level,this.name=c}var i=n("util"),u=n("lodash"),c=n("./transport"),a=n("./Levels"),f=n("./Meta"),l=n("colors/safe");t.exports=o,o.prototype.print=function(n){return n&&c.log(this.level,this.formattedText),this.formattedText},o.prototype.getDate=function(){return new Date(this.ts).toJSON().substr(0,10)},o.prototype.toJSON=function(){return{ts:this.ts,text:this.text,name:this.name,level:this.level,meta:f.get()}}},{"./Levels":2,"./Meta":6,"./transport":10,"colors/safe":1,lodash:12,util:22}],4:[function(n,t,e){"use strict";function r(n,t){t=t||{},this._name=n||"",this._logLevel=t.level||u.DBG,this._upload=t.upload||!1,this._silent=t.silent||!1,this._colourise=t.colourise||!0}var o=n("./Log"),i=n("./Persistence"),u=n("./Levels");t.exports=r,r.prototype.LEVELS=u,r.LEVELS=u,r.prototype._log=function(n,t){if(!(n<this.getLogLevel())){var e=new o({colourise:this._colourise,level:n,name:this.getName()},t);return this._upload&&i.writeLog(e),e.print(!this.isSilent())}},r.prototype.setSilent=function(n){this._silent=n||!1},r.prototype.isSilent=function(){return this._silent},r.prototype.debug=function(){return this._log(u.DBG,arguments)},r.prototype.info=function(){return this._log(u.INF,arguments)},r.prototype.warn=function(){return this._log(u.WRN,arguments)},r.prototype.err=function(){return this._log(u.ERR,arguments)},r.prototype.i=r.prototype.info,r.prototype.e=r.prototype.err,r.prototype.w=r.prototype.warn,r.prototype.d=r.prototype.debug,r.prototype.error=r.prototype.err,r.prototype.setLogLevel=function(n){this._logLevel=n},r.prototype.getLogLevel=function(){return this._logLevel},r.prototype.getName=function(){return this._name},r.prototype.setName=function(n){this._name=n}},{"./Levels":2,"./Log":3,"./Persistence":7}],5:[function(n,t,e){"use strict";var r=n("./Logger"),o=n("./Levels"),i=n("./Persistence"),u=n("./Meta"),c=n("lodash"),a={};e.LEVELS=o,e.meta=u,e.setGlobalLevel=function(n){for(var t in a)a[t].setLogLevel(n)},e.init=function(n,t){u.set(n.meta||{}),i.init(n,t)},e.getLogger=e.get=function(n,t){return n=n||"",a[n]?a[n]:(a[n]=new r(n,t),a[n])},"undefined"!=typeof window&&window.angular&&window.angular.module&&angular.module("fhlog",[]).service("fhlog",function(){return c.assign(this,e)})},{"./Levels":2,"./Logger":4,"./Meta":6,"./Persistence":7,lodash:12}],6:[function(n,t,e){"use strict";function r(n){if("object"!=typeof n)throw new Error("Meta for logs must be a serialisable object.");try{JSON.stringify(n)}catch(n){throw new Error("Meta for logs must be a serialisable object.")}}function o(n){r(n),a=n}function i(n){return delete a[n]}function u(){return a}function c(n,t){a[n]=t}var a={};t.exports={replace:o,remove:i,get:u,set:c}},{}],7:[function(n,t,e){"use strict";function r(n,t){n.fn(t)}function o(n){v.readdir(b,n)}function i(n){o(function(t,e){if(t)n(t,null);else{if(!e||0===e.length)return n(null,Date.now().toString().concat(w));var r=y.min(e,function(n){var t=n.name.replace(w,"");return parseInt(t,10)});n(null,r.name)}})}function u(n){o(function(t,e){if(t)n(t,null);else{if(!e||0===e.length)return n(null,Date.now().toString().concat(w));var r=y.max(e,function(n){var t=n&&"string"==typeof n.name?n.name:n,e=t.replace(w,"");return parseInt(e,10)}),o=r&&"string"==typeof r.name?r.name:r;n(null,o)}})}function c(n,t){function e(){v.stat(o,function(e,o){e?t(e,null):o&&o.size>=k?r():t(null,n)})}function r(){v.writeFile(o,"[]",function(e){e?t(e,null):t(null,n)})}var o=h.join(b,n);v.exists(o,function(n){n?e():r()})}function a(n){return function(t,e){function r(n){v.readFile(u,n)}function o(t,e){t.push(n.toJSON()),e(null,t)}function i(n,t){v.writeFile(u,n,t)}var u=h.join(b,t);p.waterfall([r,s.parse,o,s.stringify,i],e)}}function f(n,t){v.readFile(h.join(b,n),function(n,e){return n?t(n,null):void s.parse(e,function(n,e){return n?t(n,null):void t(null,{logs:e})})})}function l(n,t){v.unlink(h.join(b,n),t)}var s=n("safejson"),p=n("async"),h=n("path"),v=n("./fileSystem"),y=n("lodash"),g=p.priorityQueue(r,1),d=null,m=!1,b="./fhlogs",w=".txt",_={WRITE:1,UPLOAD:2},x=25*Math.pow(1024,3),k=10*Math.pow(1024,2);e.init=function(n,t){function e(n){return n?t(n,null):(m=!0,void v.exists(b,function(n){return n?t(null,null):void v.mkdir(b,t)}))}var r=n.stroageQuota||x;d=n.uploadFn||null,v.init?v.init(r,e):e()},e.writeLog=function(n,t){function e(t){p.waterfall([u,c,a(n)],t)}return m?void g.push({fn:e},_.WRITE,t):t?t("Cannot write log to storage. The file system never  initialised.",null):console.log("fhlog: Cannot write logs as FileSystem wasn't initialised")},e.uploadLogs=function(n){function t(n){p.waterfall([i,f,s.stringify,d,i,l],n)}g.push({fn:t},_.UPLOAD,n)}},{"./fileSystem":8,async:11,lodash:12,path:16,safejson:19}],8:[function(n,t,e){"use strict";t.exports=n("html5-fs")},{"html5-fs":13}],9:[function(n,t,e){"use strict";var r=n("../Levels");t.exports=function(n,t){var e=null;switch(n){case r.DEBUG:e=console.debug||console.log;break;case r.INFO:e=console.info||console.log;break;case r.WARN:e=console.warn;break;case r.ERROR:e=console.error;break;default:e=console.log}e.call(console,t)}},{"../Levels":2}],10:[function(n,t,e){"use strict";e.transports={console:n("./console")};var r=[e.transports.console];e.log=function(n,t){for(var e in r)r[e](n,t)}},{"./console":9}],11:[function(n,t,e){(function(n){!function(){function e(n){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,n.apply(r,arguments)}}var r,o,i={};r=this,null!=r&&(o=r.async),i.noConflict=function(){return r.async=o,i};var u=Object.prototype.toString,c=Array.isArray||function(n){return"[object Array]"===u.call(n)},a=function(n,t){for(var e=0;e<n.length;e+=1)t(n[e],e,n)},f=function(n,t){if(n.map)return n.map(t);var e=[];return a(n,function(n,r,o){e.push(t(n,r,o))}),e},l=function(n,t,e){return n.reduce?n.reduce(t,e):(a(n,function(n,r,o){e=t(e,n,r,o)}),e)},s=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t};"undefined"!=typeof n&&n.nextTick?(i.nextTick=n.nextTick,"undefined"!=typeof setImmediate?i.setImmediate=function(n){setImmediate(n)}:i.setImmediate=i.nextTick):"function"==typeof setImmediate?(i.nextTick=function(n){setImmediate(n)},i.setImmediate=i.nextTick):(i.nextTick=function(n){setTimeout(n,0)},i.setImmediate=i.nextTick),i.each=function(n,t,r){function o(t){t?(r(t),r=function(){}):(i+=1,i>=n.length&&r())}if(r=r||function(){},!n.length)return r();var i=0;a(n,function(n){t(n,e(o))})},i.forEach=i.each,i.eachSeries=function(n,t,e){if(e=e||function(){},!n.length)return e();var r=0,o=function(){t(n[r],function(t){t?(e(t),e=function(){}):(r+=1,r>=n.length?e():o())})};o()},i.forEachSeries=i.eachSeries,i.eachLimit=function(n,t,e,r){var o=p(t);o.apply(null,[n,e,r])},i.forEachLimit=i.eachLimit;var p=function(n){return function(t,e,r){if(r=r||function(){},!t.length||n<=0)return r();var o=0,i=0,u=0;!function c(){if(o>=t.length)return r();for(;u<n&&i<t.length;)i+=1,u+=1,e(t[i-1],function(n){n?(r(n),r=function(){}):(o+=1,u-=1,o>=t.length?r():c())})}()}},h=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[i.each].concat(t))}},v=function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[p(n)].concat(e))}},y=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[i.eachSeries].concat(t))}},g=function(n,t,e,r){if(t=f(t,function(n,t){return{index:t,value:n}}),r){var o=[];n(t,function(n,t){e(n.value,function(e,r){o[n.index]=r,t(e)})},function(n){r(n,o)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};i.map=h(g),i.mapSeries=y(g),i.mapLimit=function(n,t,e,r){return d(t)(n,e,r)};var d=function(n){return v(n,g)};i.reduce=function(n,t,e,r){i.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){r(n,t)})},i.inject=i.reduce,i.foldl=i.reduce,i.reduceRight=function(n,t,e,r){var o=f(n,function(n){return n}).reverse();i.reduce(o,t,e,r)},i.foldr=i.reduceRight;var m=function(n,t,e,r){var o=[];t=f(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&o.push(n),t()})},function(n){r(f(o.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};i.filter=h(m),i.filterSeries=y(m),i.select=i.filter,i.selectSeries=i.filterSeries;var b=function(n,t,e,r){var o=[];t=f(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||o.push(n),t()})},function(n){r(f(o.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};i.reject=h(b),i.rejectSeries=y(b);var w=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=function(){}):t()})},function(n){r()})};i.detect=h(w),i.detectSeries=y(w),i.some=function(n,t,e){i.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=function(){}),r()})},function(n){e(!1)})},i.any=i.some,i.every=function(n,t,e){i.each(n,function(n,r){t(n,function(n){n||(e(!1),e=function(){}),r()})},function(n){e(!0)})},i.all=i.every,i.sortBy=function(n,t,e){i.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return e<r?-1:e>r?1:0};e(null,f(t.sort(r),function(n){return n.value}))})},i.auto=function(n,t){t=t||function(){};var e=s(n),r=e.length;if(!r)return t();var o={},u=[],f=function(n){u.unshift(n)},p=function(n){for(var t=0;t<u.length;t+=1)if(u[t]===n)return void u.splice(t,1)},h=function(){r--,a(u.slice(0),function(n){n()})};f(function(){if(!r){var n=t;t=function(){},n(null,o)}}),a(e,function(e){var r=c(n[e])?n[e]:[n[e]],u=function(n){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),n){var u={};a(s(o),function(n){u[n]=o[n]}),u[e]=r,t(n,u),t=function(){}}else o[e]=r,i.setImmediate(h)},v=r.slice(0,Math.abs(r.length-1))||[],y=function(){return l(v,function(n,t){return n&&o.hasOwnProperty(t)},!0)&&!o.hasOwnProperty(e)};if(y())r[r.length-1](u,o);else{var g=function(){y()&&(p(g),r[r.length-1](u,o))};f(g)}})},i.retry=function(n,t,e){var r=5,o=[];"function"==typeof n&&(e=t,t=n,n=r),n=parseInt(n,10)||r;var u=function(r,u){for(var c=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},u)}};n;)o.push(c(t,!(n-=1)));i.series(o,function(n,t){t=t[t.length-1],(r||e)(t.err,t.result)})};return e?u():u},i.waterfall=function(n,t){if(t=t||function(){},!c(n)){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var r=function(n){return function(e){if(e)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),u=n.next();u?o.push(r(u)):o.push(t),i.setImmediate(function(){n.apply(null,o)})}}};r(i.iterator(n))()};var _=function(n,t,e){if(e=e||function(){},c(t))n.map(t,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(s(t),function(n,e){t[n](function(t){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),r[n]=o,e(t)})},function(n){e(n,r)})}};i.parallel=function(n,t){_({map:i.map,each:i.each},n,t)},i.parallelLimit=function(n,t,e){_({map:d(t),each:p(t)},n,e)},i.series=function(n,t){if(t=t||function(){},c(n))i.mapSeries(n,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};i.eachSeries(s(n),function(t,r){n[t](function(n){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),e[t]=o,r(n)})},function(n){t(n,e)})}},i.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},i.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(n,t,e,r){var o=[];n(t,function(n,t){e(n,function(n,e){o=o.concat(e||[]),t(n)})},function(n){r(n,o)})};i.concat=h(x),i.concatSeries=y(x),i.whilst=function(n,t,e){n()?t(function(r){return r?e(r):void i.whilst(n,t,e)}):e()},i.doWhilst=function(n,t,e){n(function(r){if(r)return e(r);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?i.doWhilst(n,t,e):e()})},i.until=function(n,t,e){n()?e():t(function(r){return r?e(r):void i.until(n,t,e)})},i.doUntil=function(n,t,e){n(function(r){if(r)return e(r);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?e():i.doUntil(n,t,e)})},i.queue=function(n,t){function r(n,t,e,r){return n.started||(n.started=!0),c(t)||(t=[t]),0==t.length?i.setImmediate(function(){n.drain&&n.drain()}):void a(t,function(t){var o={data:t,callback:"function"==typeof r?r:null};e?n.tasks.unshift(o):n.tasks.push(o),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),i.setImmediate(n.process)})}void 0===t&&(t=1);var o=0,u={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){r(u,n,!1,t)},kill:function(){u.drain=null,u.tasks=[]},unshift:function(n,t){r(u,n,!0,t)},process:function(){if(!u.paused&&o<u.concurrency&&u.tasks.length){var t=u.tasks.shift();u.empty&&0===u.tasks.length&&u.empty(),o+=1;var r=function(){o-=1,t.callback&&t.callback.apply(t,arguments),u.drain&&u.tasks.length+o===0&&u.drain(),u.process()},i=e(r);n(t.data,i)}},length:function(){return u.tasks.length},running:function(){return o},idle:function(){return u.tasks.length+o===0},pause:function(){u.paused!==!0&&(u.paused=!0)},resume:function(){if(u.paused!==!1){u.paused=!1;for(var n=1;n<=u.concurrency;n++)i.setImmediate(u.process)}}};return u},i.priorityQueue=function(n,t){function e(n,t){return n.priority-t.priority}function r(n,t,e){for(var r=-1,o=n.length-1;r<o;){var i=r+(o-r+1>>>1);e(t,n[i])>=0?r=i:o=i-1}return r}function o(n,t,o,u){return n.started||(n.started=!0),c(t)||(t=[t]),0==t.length?i.setImmediate(function(){n.drain&&n.drain()}):void a(t,function(t){var c={data:t,priority:o,callback:"function"==typeof u?u:null};n.tasks.splice(r(n.tasks,c,e)+1,0,c),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),i.setImmediate(n.process)})}var u=i.queue(n,t);return u.push=function(n,t,e){o(u,n,t,e)},delete u.unshift,u},i.cargo=function(n,t){var e=!1,r=[],o={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,e){c(n)||(n=[n]),a(n,function(n){r.push({data:n,callback:"function"==typeof e?e:null}),o.drained=!1,o.saturated&&r.length===t&&o.saturated()}),i.setImmediate(o.process)},process:function i(){if(!e){if(0===r.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var u="number"==typeof t?r.splice(0,t):r.splice(0,r.length),c=f(u,function(n){return n.data});o.empty&&o.empty(),e=!0,n(c,function(){e=!1;var n=arguments;a(u,function(t){t.callback&&t.callback.apply(null,n)}),i()})}},length:function(){return r.length},running:function(){return e}};return o};var k=function(n){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&a(e,function(t){console[n](t)}))}]))}};i.log=k("log"),i.dir=k("dir"),i.memoize=function(n,t){var e={},r={};t=t||function(n){return n};var o=function(){var o=Array.prototype.slice.call(arguments),u=o.pop(),c=t.apply(null,o);c in e?i.nextTick(function(){u.apply(null,e[c])}):c in r?r[c].push(u):(r[c]=[u],n.apply(null,o.concat([function(){e[c]=arguments;var n=r[c];delete r[c];for(var t=0,o=n.length;t<o;t++)n[t].apply(null,arguments)}])))};return o.memo=e,o.unmemoized=n,o},i.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},i.times=function(n,t,e){for(var r=[],o=0;o<n;o++)r.push(o);return i.map(r,t,e)},i.timesSeries=function(n,t,e){for(var r=[],o=0;o<n;o++)r.push(o);return i.mapSeries(r,t,e)},i.seq=function(){var n=arguments;return function(){var t=this,e=Array.prototype.slice.call(arguments),r=e.pop();i.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);r(n,t)}]))},function(n,e){r.apply(t,[n].concat(e))})}},i.compose=function(){return i.seq.apply(null,Array.prototype.reverse.call(arguments))};var j=function(n,t){var e=function(){var e=this,r=Array.prototype.slice.call(arguments),o=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},o)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return e.apply(this,r)}return e};i.applyEach=h(j),i.applyEachSeries=y(j),i.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof t&&t.exports?t.exports=i:"undefined"!=typeof define&&define.amd?define([],function(){return i}):r.async=i}()}).call(this,n("g5I+bs"))},{"g5I+bs":17}],12:[function(n,t,e){(function(n){(function(){function r(n,t,e){for(var r=(e||0)-1,o=n?n.length:0;++r<o;)if(n[r]===t)return r;return-1}function o(n,t){var e=typeof t;if(n=n.cache,"boolean"==e||null==t)return n[t]?0:-1;"number"!=e&&"string"!=e&&(e="object");var o="number"==e?t:w+t;return n=(n=n[e])&&n[o],"object"==e?n&&r(n,t)>-1?0:-1:n?0:-1}function i(n){var t=this.cache,e=typeof n;if("boolean"==e||null==n)t[n]=!0;else{"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:w+n,o=t[e]||(t[e]={});"object"==e?(o[r]||(o[r]=[])).push(n):o[r]=!0}}function u(n){return n.charCodeAt(0)}function c(n,t){for(var e=n.criteria,r=t.criteria,o=-1,i=e.length;++o<i;){var u=e[o],c=r[o];if(u!==c){if(u>c||"undefined"==typeof u)return 1;if(u<c||"undefined"==typeof c)return-1}}return n.index-t.index}function a(n){var t=-1,e=n.length,r=n[0],o=n[e/2|0],u=n[e-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&u&&"object"==typeof u)return!1;var c=s();c.false=c.null=c.true=c.undefined=!1;var a=s();for(a.array=n,a.cache=c,a.push=i;++t<e;)a.push(n[t]);return a}function f(n){return"\\"+K[n]}function l(){return d.pop()||[]}function s(){return m.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function p(n){n.length=0,d.length<x&&d.push(n)}function h(n){var t=n.cache;t&&h(t),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,m.length<x&&m.push(n)}function v(n,t,e){t||(t=0),"undefined"==typeof e&&(e=n?n.length:0);for(var r=-1,o=e-t||0,i=Array(o<0?0:o);++r<o;)i[r]=n[t+r];return i}function y(n){function t(n){return n&&"object"==typeof n&&!Ye(n)&&Te.call(n,"__wrapped__")?n:new e(n)}function e(n,t){this.__chain__=!!t,this.__wrapped__=n}function i(n){function t(){if(r){var n=v(r);Ne.apply(n,arguments)}if(this instanceof t){var i=m(e.prototype),u=e.apply(i,n||arguments);return Rn(u)?u:i}return e.apply(o,n||arguments)}var e=n[0],r=n[2],o=n[4];return Ze(t,n),t}function d(n,t,e,r,o){if(e){var i=e(n);if("undefined"!=typeof i)return i}var u=Rn(n);if(!u)return n;var c=Ae.call(n);if(!G[c])return n;var a=Ve[c];switch(c){case $:case q:return new a(+n);case U:case W:return new a(n);case H:return i=a(n.source,F.exec(n)),i.lastIndex=n.lastIndex,i}var f=Ye(n);if(t){var s=!r;r||(r=l()),o||(o=l());for(var h=r.length;h--;)if(r[h]==n)return o[h];i=f?a(n.length):{}}else i=f?v(n):ir({},n);return f&&(Te.call(n,"index")&&(i.index=n.index),Te.call(n,"input")&&(i.input=n.input)),t?(r.push(n),o.push(i),(f?Zn:ar)(n,function(n,u){i[u]=d(n,t,e,r,o)}),s&&(p(r),p(o)),i):i}function m(n,t){return Rn(n)?qe(n):{}}function x(n,t,e){if("function"!=typeof n)return Yt;if("undefined"==typeof t||!("prototype"in n))return n;var r=n.__bindData__;if("undefined"==typeof r&&(Ke.funcNames&&(r=!n.name),r=r||!Ke.funcDecomp,!r)){var o=Le.call(n);Ke.funcNames||(r=!O.test(o)),r||(r=D.test(o),Ze(n,r))}if(r===!1||r!==!0&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,o){return n.call(t,e,r,o)};case 4:return function(e,r,o,i){return n.call(t,e,r,o,i)}}return Nt(n,t)}function K(n){function t(){var n=a?u:this;if(o){var h=v(o);Ne.apply(h,arguments)}if((i||l)&&(h||(h=v(arguments)),i&&Ne.apply(h,i),l&&h.length<c))return r|=16,K([e,s?r:r&-4,h,null,u,c]);if(h||(h=arguments),f&&(e=n[p]),this instanceof t){n=m(e.prototype);var y=e.apply(n,h);return Rn(y)?y:n}return e.apply(n,h)}var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],c=n[5],a=1&r,f=2&r,l=4&r,s=8&r,p=e;return Ze(t,n),t}function Y(n,t){var e=-1,i=fn(),u=n?n.length:0,c=u>=_&&i===r,f=[];if(c){var l=a(t);l?(i=o,t=l):c=!1}for(;++e<u;){var s=n[e];i(t,s)<0&&f.push(s)}return c&&h(t),f}function X(n,t,e,r){for(var o=(r||0)-1,i=n?n.length:0,u=[];++o<i;){var c=n[o];if(c&&"object"==typeof c&&"number"==typeof c.length&&(Ye(c)||hn(c))){t||(c=X(c,t,e));var a=-1,f=c.length,l=u.length;for(u.length+=f;++a<f;)u[l++]=c[a]}else e||u.push(c)}return u}function nn(n,t,e,r,o,i){if(e){var u=e(n,t);if("undefined"!=typeof u)return!!u}if(n===t)return 0!==n||1/n==1/t;var c=typeof n,a=typeof t;if(!(n!==n||n&&V[c]||t&&V[a]))return!1;if(null==n||null==t)return n===t;var f=Ae.call(n),s=Ae.call(t);if(f==P&&(f=B),s==P&&(s=B),f!=s)return!1;switch(f){case $:case q:return+n==+t;case U:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case H:case W:return n==xe(t)}var h=f==z;if(!h){var v=Te.call(n,"__wrapped__"),y=Te.call(t,"__wrapped__");if(v||y)return nn(v?n.__wrapped__:n,y?t.__wrapped__:t,e,r,o,i);if(f!=B)return!1;var g=n.constructor,d=t.constructor;if(g!=d&&!(In(g)&&g instanceof g&&In(d)&&d instanceof d)&&"constructor"in n&&"constructor"in t)return!1}var m=!o;o||(o=l()),i||(i=l());for(var b=o.length;b--;)if(o[b]==n)return i[b]==t;var w=0;if(u=!0,o.push(n),i.push(t),h){if(b=n.length,w=t.length,u=w==b,u||r)for(;w--;){var _=b,x=t[w];if(r)for(;_--&&!(u=nn(n[_],x,e,r,o,i)););else if(!(u=nn(n[w],x,e,r,o,i)))break}}else cr(t,function(t,c,a){if(Te.call(a,c))return w++,u=Te.call(n,c)&&nn(n[c],t,e,r,o,i)}),u&&!r&&cr(n,function(n,t,e){if(Te.call(e,t))return u=--w>-1});return o.pop(),i.pop(),m&&(p(o),p(i)),u}function tn(n,t,e,r,o){(Ye(t)?Zn:ar)(t,function(t,i){var u,c,a=t,f=n[i];if(t&&((c=Ye(t))||fr(t))){for(var l=r.length;l--;)if(u=r[l]==t){f=o[l];break}if(!u){var s;e&&(a=e(f,t),(s="undefined"!=typeof a)&&(f=a)),s||(f=c?Ye(f)?f:[]:fr(f)?f:{}),r.push(t),o.push(f),s||tn(f,t,e,r,o)}}else e&&(a=e(f,t),"undefined"==typeof a&&(a=t)),"undefined"!=typeof a&&(f=a);n[i]=f})}function rn(n,t){return n+Re(Qe()*(t-n+1))}function on(n,t,e){var i=-1,u=fn(),c=n?n.length:0,f=[],s=!t&&c>=_&&u===r,v=e||s?l():f;if(s){var y=a(v);u=o,v=y}for(;++i<c;){var g=n[i],d=e?e(g,i,n):g;(t?!i||v[v.length-1]!==d:u(v,d)<0)&&((e||s)&&v.push(d),f.push(g))}return s?(p(v.array),h(v)):e&&p(v),f}function un(n){return function(e,r,o){var i={};r=t.createCallback(r,o,3);var u=-1,c=e?e.length:0;if("number"==typeof c)for(;++u<c;){var a=e[u];n(i,a,r(a,u,e),e)}else ar(e,function(t,e,o){n(i,t,r(t,e,o),o)});return i}}function cn(n,t,e,r,o,u){var c=1&t,a=2&t,f=4&t,l=16&t,s=32&t;if(!a&&!In(n))throw new ke;l&&!e.length&&(t&=-17,l=e=!1),s&&!r.length&&(t&=-33,s=r=!1);var p=n&&n.__bindData__;if(p&&p!==!0)return p=v(p),p[2]&&(p[2]=v(p[2])),p[3]&&(p[3]=v(p[3])),!c||1&p[1]||(p[4]=o),!c&&1&p[1]&&(t|=8),!f||4&p[1]||(p[5]=u),l&&Ne.apply(p[2]||(p[2]=[]),e),s&&ze.apply(p[3]||(p[3]=[]),r),p[1]|=t,cn.apply(null,p);var h=1==t||17===t?i:K;return h([n,t,e,r,o,u])}function an(n){return tr[n]}function fn(){var n=(n=t.indexOf)===mt?r:n;return n}function ln(n){return"function"==typeof n&&Fe.test(n)}function sn(n){var t,e;return!!(n&&Ae.call(n)==B&&(t=n.constructor,!In(t)||t instanceof t))&&(cr(n,function(n,t){e=t}),"undefined"==typeof e||Te.call(n,e))}function pn(n){return er[n]}function hn(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Ae.call(n)==P||!1}function vn(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e=t,t=!1),d(n,t,"function"==typeof e&&x(e,r,1))}function yn(n,t,e){return d(n,!0,"function"==typeof t&&x(t,e,1))}function gn(n,t){var e=m(n);return t?ir(e,t):e}function dn(n,e,r){var o;return e=t.createCallback(e,r,3),ar(n,function(n,t,r){if(e(n,t,r))return o=t,!1}),o}function mn(n,e,r){var o;return e=t.createCallback(e,r,3),wn(n,function(n,t,r){if(e(n,t,r))return o=t,!1}),o}function bn(n,t,e){var r=[];cr(n,function(n,t){r.push(t,n)});var o=r.length;for(t=x(t,e,3);o--&&t(r[o--],r[o],n)!==!1;);return n}function wn(n,t,e){var r=nr(n),o=r.length;for(t=x(t,e,3);o--;){var i=r[o];if(t(n[i],i,n)===!1)break}return n}function _n(n){var t=[];return cr(n,function(n,e){In(n)&&t.push(e)}),t.sort()}function xn(n,t){return!!n&&Te.call(n,t)}function kn(n){for(var t=-1,e=nr(n),r=e.length,o={};++t<r;){var i=e[t];o[n[i]]=i}return o}function jn(n){return n===!0||n===!1||n&&"object"==typeof n&&Ae.call(n)==$||!1}function Sn(n){return n&&"object"==typeof n&&Ae.call(n)==q||!1}function En(n){return n&&1===n.nodeType||!1}function An(n){var t=!0;if(!n)return t;var e=Ae.call(n),r=n.length;return e==z||e==W||e==P||e==B&&"number"==typeof r&&In(n.splice)?!r:(ar(n,function(){return t=!1}),t)}function Fn(n,t,e,r){return nn(n,t,"function"==typeof e&&x(e,r,2))}function On(n){return Ue(n)&&!Be(parseFloat(n))}function In(n){return"function"==typeof n}function Rn(n){return!(!n||!V[typeof n])}function Ln(n){return Tn(n)&&n!=+n}function Dn(n){return null===n}function Tn(n){return"number"==typeof n||n&&"object"==typeof n&&Ae.call(n)==U||!1}function Nn(n){return n&&"object"==typeof n&&Ae.call(n)==H||!1}function Cn(n){return"string"==typeof n||n&&"object"==typeof n&&Ae.call(n)==W||!1}function Pn(n){return"undefined"==typeof n}function zn(n,e,r){var o={};return e=t.createCallback(e,r,3),ar(n,function(n,t,r){o[t]=e(n,t,r)}),o}function $n(n){var t=arguments,e=2;if(!Rn(n))return n;if("number"!=typeof t[2]&&(e=t.length),e>3&&"function"==typeof t[e-2])var r=x(t[--e-1],t[e--],2);else e>2&&"function"==typeof t[e-1]&&(r=t[--e]);for(var o=v(arguments,1,e),i=-1,u=l(),c=l();++i<e;)tn(n,o[i],r,u,c);return p(u),p(c),n}function qn(n,e,r){var o={};if("function"!=typeof e){var i=[];cr(n,function(n,t){i.push(t)}),i=Y(i,X(arguments,!0,!1,1));for(var u=-1,c=i.length;++u<c;){var a=i[u];o[a]=n[a]}}else e=t.createCallback(e,r,3),cr(n,function(n,t,r){e(n,t,r)||(o[t]=n)});return o}function Mn(n){for(var t=-1,e=nr(n),r=e.length,o=ve(r);++t<r;){var i=e[t];o[t]=[i,n[i]]}return o}function Un(n,e,r){var o={};if("function"!=typeof e)for(var i=-1,u=X(arguments,!0,!1,1),c=Rn(n)?u.length:0;++i<c;){var a=u[i];a in n&&(o[a]=n[a])}else e=t.createCallback(e,r,3),cr(n,function(n,t,r){e(n,t,r)&&(o[t]=n)});return o}function Bn(n,e,r,o){var i=Ye(n);if(null==r)if(i)r=[];else{var u=n&&n.constructor,c=u&&u.prototype;r=m(c)}return e&&(e=t.createCallback(e,o,4),(i?Zn:ar)(n,function(n,t,o){return e(r,n,t,o)})),r}function Hn(n){for(var t=-1,e=nr(n),r=e.length,o=ve(r);++t<r;)o[t]=n[e[t]];return o}function Wn(n){for(var t=arguments,e=-1,r=X(t,!0,!1,1),o=t[2]&&t[2][t[1]]===n?1:r.length,i=ve(o);++e<o;)i[e]=n[r[e]];return i}function Gn(n,t,e){var r=-1,o=fn(),i=n?n.length:0,u=!1;return e=(e<0?We(0,i+e):e)||0,Ye(n)?u=o(n,t,e)>-1:"number"==typeof i?u=(Cn(n)?n.indexOf(t,e):o(n,t,e))>-1:ar(n,function(n){if(++r>=e)return!(u=n===t)}),u}function Jn(n,e,r){var o=!0;e=t.createCallback(e,r,3);var i=-1,u=n?n.length:0;if("number"==typeof u)for(;++i<u&&(o=!!e(n[i],i,n)););else ar(n,function(n,t,r){return o=!!e(n,t,r)});return o}function Qn(n,e,r){var o=[];e=t.createCallback(e,r,3);var i=-1,u=n?n.length:0;if("number"==typeof u)for(;++i<u;){var c=n[i];e(c,i,n)&&o.push(c)}else ar(n,function(n,t,r){e(n,t,r)&&o.push(n)});return o}function Vn(n,e,r){e=t.createCallback(e,r,3);var o=-1,i=n?n.length:0;if("number"!=typeof i){var u;return ar(n,function(n,t,r){if(e(n,t,r))return u=n,!1}),u}for(;++o<i;){var c=n[o];if(e(c,o,n))return c}}function Kn(n,e,r){var o;return e=t.createCallback(e,r,3),Yn(n,function(n,t,r){if(e(n,t,r))return o=n,!1}),o}function Zn(n,t,e){var r=-1,o=n?n.length:0;if(t=t&&"undefined"==typeof e?t:x(t,e,3),"number"==typeof o)for(;++r<o&&t(n[r],r,n)!==!1;);else ar(n,t);return n}function Yn(n,t,e){var r=n?n.length:0;if(t=t&&"undefined"==typeof e?t:x(t,e,3),"number"==typeof r)for(;r--&&t(n[r],r,n)!==!1;);else{var o=nr(n);r=o.length,ar(n,function(n,e,i){return e=o?o[--r]:--r,t(i[e],e,i)})}return n}function Xn(n,t){var e=v(arguments,2),r=-1,o="function"==typeof t,i=n?n.length:0,u=ve("number"==typeof i?i:0);return Zn(n,function(n){u[++r]=(o?t:n[t]).apply(n,e)}),u}function nt(n,e,r){var o=-1,i=n?n.length:0;if(e=t.createCallback(e,r,3),"number"==typeof i)for(var u=ve(i);++o<i;)u[o]=e(n[o],o,n);else u=[],ar(n,function(n,t,r){u[++o]=e(n,t,r)});return u}function tt(n,e,r){var o=-(1/0),i=o;if("function"!=typeof e&&r&&r[e]===n&&(e=null),null==e&&Ye(n))for(var c=-1,a=n.length;++c<a;){var f=n[c];f>i&&(i=f)}else e=null==e&&Cn(n)?u:t.createCallback(e,r,3),Zn(n,function(n,t,r){var u=e(n,t,r);u>o&&(o=u,i=n)});return i}function et(n,e,r){var o=1/0,i=o;if("function"!=typeof e&&r&&r[e]===n&&(e=null),null==e&&Ye(n))for(var c=-1,a=n.length;++c<a;){var f=n[c];f<i&&(i=f)}else e=null==e&&Cn(n)?u:t.createCallback(e,r,3),Zn(n,function(n,t,r){var u=e(n,t,r);u<o&&(o=u,i=n)});return i}function rt(n,e,r,o){if(!n)return r;var i=arguments.length<3;e=t.createCallback(e,o,4);var u=-1,c=n.length;if("number"==typeof c)for(i&&(r=n[++u]);++u<c;)r=e(r,n[u],u,n);else ar(n,function(n,t,o){r=i?(i=!1,n):e(r,n,t,o)});return r}function ot(n,e,r,o){var i=arguments.length<3;return e=t.createCallback(e,o,4),Yn(n,function(n,t,o){r=i?(i=!1,n):e(r,n,t,o)}),r}function it(n,e,r){return e=t.createCallback(e,r,3),Qn(n,function(n,t,r){return!e(n,t,r)})}function ut(n,t,e){if(n&&"number"!=typeof n.length&&(n=Hn(n)),null==t||e)return n?n[rn(0,n.length-1)]:g;var r=ct(n);return r.length=Ge(We(0,t),r.length),r}function ct(n){var t=-1,e=n?n.length:0,r=ve("number"==typeof e?e:0);return Zn(n,function(n){var e=rn(0,++t);r[t]=r[e],r[e]=n}),r}function at(n){var t=n?n.length:0;return"number"==typeof t?t:nr(n).length}function ft(n,e,r){var o;e=t.createCallback(e,r,3);var i=-1,u=n?n.length:0;if("number"==typeof u)for(;++i<u&&!(o=e(n[i],i,n)););else ar(n,function(n,t,r){return!(o=e(n,t,r))});return!!o}function lt(n,e,r){var o=-1,i=Ye(e),u=n?n.length:0,a=ve("number"==typeof u?u:0);for(i||(e=t.createCallback(e,r,3)),Zn(n,function(n,t,r){var u=a[++o]=s();i?u.criteria=nt(e,function(t){return n[t]}):(u.criteria=l())[0]=e(n,t,r),u.index=o,u.value=n}),u=a.length,a.sort(c);u--;){var f=a[u];a[u]=f.value,i||p(f.criteria),h(f)}return a}function st(n){return n&&"number"==typeof n.length?v(n):Hn(n)}function pt(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var o=n[t];o&&r.push(o)}return r}function ht(n){return Y(n,X(arguments,!0,!0,1))}function vt(n,e,r){var o=-1,i=n?n.length:0;for(e=t.createCallback(e,r,3);++o<i;)if(e(n[o],o,n))return o;return-1}function yt(n,e,r){var o=n?n.length:0;for(e=t.createCallback(e,r,3);o--;)if(e(n[o],o,n))return o;return-1}function gt(n,e,r){var o=0,i=n?n.length:0;if("number"!=typeof e&&null!=e){var u=-1;for(e=t.createCallback(e,r,3);++u<i&&e(n[u],u,n);)o++}else if(o=e,null==o||r)return n?n[0]:g;return v(n,0,Ge(We(0,o),i))}function dt(n,t,e,r){
return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),null!=e&&(n=nt(n,e,r)),X(n,t)}function mt(n,t,e){if("number"==typeof e){var o=n?n.length:0;e=e<0?We(0,o+e):e||0}else if(e){var i=At(n,t);return n[i]===t?i:-1}return r(n,t,e)}function bt(n,e,r){var o=0,i=n?n.length:0;if("number"!=typeof e&&null!=e){var u=i;for(e=t.createCallback(e,r,3);u--&&e(n[u],u,n);)o++}else o=null==e||r?1:e||o;return v(n,0,Ge(We(0,i-o),i))}function wt(){for(var n=[],t=-1,e=arguments.length,i=l(),u=fn(),c=u===r,f=l();++t<e;){var s=arguments[t];(Ye(s)||hn(s))&&(n.push(s),i.push(c&&s.length>=_&&a(t?n[t]:f)))}var v=n[0],y=-1,g=v?v.length:0,d=[];n:for(;++y<g;){var m=i[0];if(s=v[y],(m?o(m,s):u(f,s))<0){for(t=e,(m||f).push(s);--t;)if(m=i[t],(m?o(m,s):u(n[t],s))<0)continue n;d.push(s)}}for(;e--;)m=i[e],m&&h(m);return p(i),p(f),d}function _t(n,e,r){var o=0,i=n?n.length:0;if("number"!=typeof e&&null!=e){var u=i;for(e=t.createCallback(e,r,3);u--&&e(n[u],u,n);)o++}else if(o=e,null==o||r)return n?n[i-1]:g;return v(n,We(0,i-o))}function xt(n,t,e){var r=n?n.length:0;for("number"==typeof e&&(r=(e<0?We(0,r+e):Ge(e,r-1))+1);r--;)if(n[r]===t)return r;return-1}function kt(n){for(var t=arguments,e=0,r=t.length,o=n?n.length:0;++e<r;)for(var i=-1,u=t[e];++i<o;)n[i]===u&&(Pe.call(n,i--,1),o--);return n}function jt(n,t,e){n=+n||0,e="number"==typeof e?e:+e||1,null==t&&(t=n,n=0);for(var r=-1,o=We(0,Oe((t-n)/(e||1))),i=ve(o);++r<o;)i[r]=n,n+=e;return i}function St(n,e,r){var o=-1,i=n?n.length:0,u=[];for(e=t.createCallback(e,r,3);++o<i;){var c=n[o];e(c,o,n)&&(u.push(c),Pe.call(n,o--,1),i--)}return u}function Et(n,e,r){if("number"!=typeof e&&null!=e){var o=0,i=-1,u=n?n.length:0;for(e=t.createCallback(e,r,3);++i<u&&e(n[i],i,n);)o++}else o=null==e||r?1:We(0,e);return v(n,o)}function At(n,e,r,o){var i=0,u=n?n.length:i;for(r=r?t.createCallback(r,o,1):Yt,e=r(e);i<u;){var c=i+u>>>1;r(n[c])<e?i=c+1:u=c}return i}function Ft(){return on(X(arguments,!0,!0))}function Ot(n,e,r,o){return"boolean"!=typeof e&&null!=e&&(o=r,r="function"!=typeof e&&o&&o[e]===n?null:e,e=!1),null!=r&&(r=t.createCallback(r,o,3)),on(n,e,r)}function It(n){return Y(n,v(arguments,1))}function Rt(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(Ye(e)||hn(e))var r=r?on(Y(r,e).concat(Y(e,r))):e}return r||[]}function Lt(){for(var n=arguments.length>1?arguments:arguments[0],t=-1,e=n?tt(hr(n,"length")):0,r=ve(e<0?0:e);++t<e;)r[t]=hr(n,t);return r}function Dt(n,t){var e=-1,r=n?n.length:0,o={};for(t||!r||Ye(n[0])||(t=[]);++e<r;){var i=n[e];t?o[i]=t[e]:i&&(o[i[0]]=i[1])}return o}function Tt(n,t){if(!In(t))throw new ke;return function(){if(--n<1)return t.apply(this,arguments)}}function Nt(n,t){return arguments.length>2?cn(n,17,v(arguments,2),null,t):cn(n,1,null,null,t)}function Ct(n){for(var t=arguments.length>1?X(arguments,!0,!1,1):_n(n),e=-1,r=t.length;++e<r;){var o=t[e];n[o]=cn(n[o],1,null,null,n)}return n}function Pt(n,t){return arguments.length>2?cn(t,19,v(arguments,2),null,n):cn(t,3,null,null,n)}function zt(){for(var n=arguments,t=n.length;t--;)if(!In(n[t]))throw new ke;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}}function $t(n,t){return t="number"==typeof t?t:+t||n.length,cn(n,4,null,null,null,t)}function qt(n,t,e){var r,o,i,u,c,a,f,l=0,s=!1,p=!0;if(!In(n))throw new ke;if(t=We(0,t)||0,e===!0){var h=!0;p=!1}else Rn(e)&&(h=e.leading,s="maxWait"in e&&(We(t,e.maxWait)||0),p="trailing"in e?e.trailing:p);var v=function(){var e=t-(yr()-u);if(e<=0){o&&Ie(o);var s=f;o=a=f=g,s&&(l=yr(),i=n.apply(c,r),a||o||(r=c=null))}else a=Ce(v,e)},y=function(){a&&Ie(a),o=a=f=g,(p||s!==t)&&(l=yr(),i=n.apply(c,r),a||o||(r=c=null))};return function(){if(r=arguments,u=yr(),c=this,f=p&&(a||!h),s===!1)var e=h&&!a;else{o||h||(l=u);var g=s-(u-l),d=g<=0;d?(o&&(o=Ie(o)),l=u,i=n.apply(c,r)):o||(o=Ce(y,g))}return d&&a?a=Ie(a):a||t===s||(a=Ce(v,t)),e&&(d=!0,i=n.apply(c,r)),!d||a||o||(r=c=null),i}}function Mt(n){if(!In(n))throw new ke;var t=v(arguments,1);return Ce(function(){n.apply(g,t)},1)}function Ut(n,t){if(!In(n))throw new ke;var e=v(arguments,2);return Ce(function(){n.apply(g,e)},t)}function Bt(n,t){if(!In(n))throw new ke;var e=function(){var r=e.cache,o=t?t.apply(this,arguments):w+arguments[0];return Te.call(r,o)?r[o]:r[o]=n.apply(this,arguments)};return e.cache={},e}function Ht(n){var t,e;if(!In(n))throw new ke;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}}function Wt(n){return cn(n,16,v(arguments,1))}function Gt(n){return cn(n,32,null,v(arguments,1))}function Jt(n,t,e){var r=!0,o=!0;if(!In(n))throw new ke;return e===!1?r=!1:Rn(e)&&(r="leading"in e?e.leading:r,o="trailing"in e?e.trailing:o),J.leading=r,J.maxWait=t,J.trailing=o,qt(n,t,J)}function Qt(n,t){return cn(t,16,[n])}function Vt(n){return function(){return n}}function Kt(n,t,e){var r=typeof n;if(null==n||"function"==r)return x(n,t,e);if("object"!=r)return ee(n);var o=nr(n),i=o[0],u=n[i];return 1!=o.length||u!==u||Rn(u)?function(t){for(var e=o.length,r=!1;e--&&(r=nn(t[o[e]],n[o[e]],null,!0)););return r}:function(n){var t=n[i];return u===t&&(0!==u||1/u==1/t)}}function Zt(n){return null==n?"":xe(n).replace(or,an)}function Yt(n){return n}function Xt(n,r,o){var i=!0,u=r&&_n(r);r&&(o||u.length)||(null==o&&(o=r),c=e,r=n,n=t,u=_n(r)),o===!1?i=!1:Rn(o)&&"chain"in o&&(i=o.chain);var c=n,a=In(c);Zn(u,function(t){var e=n[t]=r[t];a&&(c.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,o=[r];Ne.apply(o,arguments);var u=e.apply(n,o);if(i||t){if(r===u&&Rn(u))return this;u=new c(u),u.__chain__=t}return u})})}function ne(){return n._=Ee,this}function te(){}function ee(n){return function(t){return t[n]}}function re(n,t,e){var r=null==n,o=null==t;if(null==e&&("boolean"==typeof n&&o?(e=n,n=1):o||"boolean"!=typeof t||(e=t,o=!0)),r&&o&&(t=1),n=+n||0,o?(t=n,n=0):t=+t||0,e||n%1||t%1){var i=Qe();return Ge(n+i*(t-n+parseFloat("1e-"+((i+"").length-1))),t)}return rn(n,t)}function oe(n,t){if(n){var e=n[t];return In(e)?n[t]():e}}function ie(n,e,r){var o=t.templateSettings;n=xe(n||""),r=ur({},r,o);var i,u=ur({},r.imports,o.imports),c=nr(u),a=Hn(u),l=0,s=r.interpolate||L,p="__p += '",h=_e((r.escape||L).source+"|"+s.source+"|"+(s===I?A:L).source+"|"+(r.evaluate||L).source+"|$","g");n.replace(h,function(t,e,r,o,u,c){return r||(r=o),p+=n.slice(l,c).replace(T,f),e&&(p+="' +\n__e("+e+") +\n'"),u&&(i=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),p+="';\n";var v=r.variable,y=v;y||(v="obj",p="with ("+v+") {\n"+p+"\n}\n"),p=(i?p.replace(j,""):p).replace(S,"$1").replace(E,"$1;"),p="function("+v+") {\n"+(y?"":v+" || ("+v+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var d="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+C++ +"]")+"\n*/";try{var m=de(c,"return "+p+d).apply(g,a)}catch(n){throw n.source=p,n}return e?m(e):(m.source=p,m)}function ue(n,t,e){n=(n=+n)>-1?n:0;var r=-1,o=ve(n);for(t=x(t,e,1);++r<n;)o[r]=t(r);return o}function ce(n){return null==n?"":xe(n).replace(rr,pn)}function ae(n){var t=++b;return xe(null==n?"":n)+t}function fe(n){return n=new e(n),n.__chain__=!0,n}function le(n,t){return t(n),n}function se(){return this.__chain__=!0,this}function pe(){return xe(this.__wrapped__)}function he(){return this.__wrapped__}n=n?en.defaults(Z.Object(),n,en.pick(Z,N)):Z;var ve=n.Array,ye=n.Boolean,ge=n.Date,de=n.Function,me=n.Math,be=n.Number,we=n.Object,_e=n.RegExp,xe=n.String,ke=n.TypeError,je=[],Se=we.prototype,Ee=n._,Ae=Se.toString,Fe=_e("^"+xe(Ae).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Oe=me.ceil,Ie=n.clearTimeout,Re=me.floor,Le=de.prototype.toString,De=ln(De=we.getPrototypeOf)&&De,Te=Se.hasOwnProperty,Ne=je.push,Ce=n.setTimeout,Pe=je.splice,ze=je.unshift,$e=function(){try{var n={},t=ln(t=we.defineProperty)&&t,e=t(n,n,n)&&t}catch(n){}return e}(),qe=ln(qe=we.create)&&qe,Me=ln(Me=ve.isArray)&&Me,Ue=n.isFinite,Be=n.isNaN,He=ln(He=we.keys)&&He,We=me.max,Ge=me.min,Je=n.parseInt,Qe=me.random,Ve={};Ve[z]=ve,Ve[$]=ye,Ve[q]=ge,Ve[M]=de,Ve[B]=we,Ve[U]=be,Ve[H]=_e,Ve[W]=xe,e.prototype=t.prototype;var Ke=t.support={};Ke.funcDecomp=!ln(n.WinRTError)&&D.test(y),Ke.funcNames="string"==typeof de.name,t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:t}},qe||(m=function(){function t(){}return function(e){if(Rn(e)){t.prototype=e;var r=new t;t.prototype=null}return r||n.Object()}}());var Ze=$e?function(n,t){Q.value=t,$e(n,"__bindData__",Q),Q.value=null}:te,Ye=Me||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Ae.call(n)==z||!1},Xe=function(n){var t,e=n,r=[];if(!e)return r;if(!V[typeof n])return r;for(t in e)Te.call(e,t)&&r.push(t);return r},nr=He?function(n){return Rn(n)?He(n):[]}:Xe,tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},er=kn(tr),rr=_e("("+nr(er).join("|")+")","g"),or=_e("["+nr(tr).join("")+"]","g"),ir=function(n,t,e){var r,o=n,i=o;if(!o)return i;var u=arguments,c=0,a="number"==typeof e?2:u.length;if(a>3&&"function"==typeof u[a-2])var f=x(u[--a-1],u[a--],2);else a>2&&"function"==typeof u[a-1]&&(f=u[--a]);for(;++c<a;)if(o=u[c],o&&V[typeof o])for(var l=-1,s=V[typeof o]&&nr(o),p=s?s.length:0;++l<p;)r=s[l],i[r]=f?f(i[r],o[r]):o[r];return i},ur=function(n,t,e){var r,o=n,i=o;if(!o)return i;for(var u=arguments,c=0,a="number"==typeof e?2:u.length;++c<a;)if(o=u[c],o&&V[typeof o])for(var f=-1,l=V[typeof o]&&nr(o),s=l?l.length:0;++f<s;)r=l[f],"undefined"==typeof i[r]&&(i[r]=o[r]);return i},cr=function(n,t,e){var r,o=n,i=o;if(!o)return i;if(!V[typeof o])return i;t=t&&"undefined"==typeof e?t:x(t,e,3);for(r in o)if(t(o[r],r,n)===!1)return i;return i},ar=function(n,t,e){var r,o=n,i=o;if(!o)return i;if(!V[typeof o])return i;t=t&&"undefined"==typeof e?t:x(t,e,3);for(var u=-1,c=V[typeof o]&&nr(o),a=c?c.length:0;++u<a;)if(r=c[u],t(o[r],r,n)===!1)return i;return i},fr=De?function(n){if(!n||Ae.call(n)!=B)return!1;var t=n.valueOf,e=ln(t)&&(e=De(t))&&De(e);return e?n==e||De(n)==e:sn(n)}:sn,lr=un(function(n,t,e){Te.call(n,e)?n[e]++:n[e]=1}),sr=un(function(n,t,e){(Te.call(n,e)?n[e]:n[e]=[]).push(t)}),pr=un(function(n,t,e){n[e]=t}),hr=nt,vr=Qn,yr=ln(yr=ge.now)&&yr||function(){return(new ge).getTime()},gr=8==Je(k+"08")?Je:function(n,t){return Je(Cn(n)?n.replace(R,""):n,t||0)};return t.after=Tt,t.assign=ir,t.at=Wn,t.bind=Nt,t.bindAll=Ct,t.bindKey=Pt,t.chain=fe,t.compact=pt,t.compose=zt,t.constant=Vt,t.countBy=lr,t.create=gn,t.createCallback=Kt,t.curry=$t,t.debounce=qt,t.defaults=ur,t.defer=Mt,t.delay=Ut,t.difference=ht,t.filter=Qn,t.flatten=dt,t.forEach=Zn,t.forEachRight=Yn,t.forIn=cr,t.forInRight=bn,t.forOwn=ar,t.forOwnRight=wn,t.functions=_n,t.groupBy=sr,t.indexBy=pr,t.initial=bt,t.intersection=wt,t.invert=kn,t.invoke=Xn,t.keys=nr,t.map=nt,t.mapValues=zn,t.max=tt,t.memoize=Bt,t.merge=$n,t.min=et,t.omit=qn,t.once=Ht,t.pairs=Mn,t.partial=Wt,t.partialRight=Gt,t.pick=Un,t.pluck=hr,t.property=ee,t.pull=kt,t.range=jt,t.reject=it,t.remove=St,t.rest=Et,t.shuffle=ct,t.sortBy=lt,t.tap=le,t.throttle=Jt,t.times=ue,t.toArray=st,t.transform=Bn,t.union=Ft,t.uniq=Ot,t.values=Hn,t.where=vr,t.without=It,t.wrap=Qt,t.xor=Rt,t.zip=Lt,t.zipObject=Dt,t.collect=nt,t.drop=Et,t.each=Zn,t.eachRight=Yn,t.extend=ir,t.methods=_n,t.object=Dt,t.select=Qn,t.tail=Et,t.unique=Ot,t.unzip=Lt,Xt(t),t.clone=vn,t.cloneDeep=yn,t.contains=Gn,t.escape=Zt,t.every=Jn,t.find=Vn,t.findIndex=vt,t.findKey=dn,t.findLast=Kn,t.findLastIndex=yt,t.findLastKey=mn,t.has=xn,t.identity=Yt,t.indexOf=mt,t.isArguments=hn,t.isArray=Ye,t.isBoolean=jn,t.isDate=Sn,t.isElement=En,t.isEmpty=An,t.isEqual=Fn,t.isFinite=On,t.isFunction=In,t.isNaN=Ln,t.isNull=Dn,t.isNumber=Tn,t.isObject=Rn,t.isPlainObject=fr,t.isRegExp=Nn,t.isString=Cn,t.isUndefined=Pn,t.lastIndexOf=xt,t.mixin=Xt,t.noConflict=ne,t.noop=te,t.now=yr,t.parseInt=gr,t.random=re,t.reduce=rt,t.reduceRight=ot,t.result=oe,t.runInContext=y,t.size=at,t.some=ft,t.sortedIndex=At,t.template=ie,t.unescape=ce,t.uniqueId=ae,t.all=Jn,t.any=ft,t.detect=Vn,t.findWhere=Vn,t.foldl=rt,t.foldr=ot,t.include=Gn,t.inject=rt,Xt(function(){var n={};return ar(t,function(e,r){t.prototype[r]||(n[r]=e)}),n}(),!1),t.first=gt,t.last=_t,t.sample=ut,t.take=gt,t.head=gt,ar(t,function(n,r){var o="sample"!==r;t.prototype[r]||(t.prototype[r]=function(t,r){var i=this.__chain__,u=n(this.__wrapped__,t,r);return i||null!=t&&(!r||o&&"function"==typeof t)?new e(u,i):u})}),t.VERSION="2.4.2",t.prototype.chain=se,t.prototype.toString=pe,t.prototype.value=he,t.prototype.valueOf=he,Zn(["join","pop","shift"],function(n){var r=je[n];t.prototype[n]=function(){var n=this.__chain__,t=r.apply(this.__wrapped__,arguments);return n?new e(t,n):t}}),Zn(["push","reverse","sort","unshift"],function(n){var e=je[n];t.prototype[n]=function(){return e.apply(this.__wrapped__,arguments),this}}),Zn(["concat","slice","splice"],function(n){var r=je[n];t.prototype[n]=function(){return new e(r.apply(this.__wrapped__,arguments),this.__chain__)}}),t}var g,d=[],m=[],b=0,w=+new Date+"",_=75,x=40,k=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",j=/\b__p \+= '';/g,S=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,F=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,R=RegExp("^["+k+"]*0+(?=.$)"),L=/($^)/,D=/\bthis\b/,T=/['\n\r\t\u2028\u2029\\]/g,N=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],C=0,P="[object Arguments]",z="[object Array]",$="[object Boolean]",q="[object Date]",M="[object Function]",U="[object Number]",B="[object Object]",H="[object RegExp]",W="[object String]",G={};G[M]=!1,G[P]=G[z]=G[$]=G[q]=G[U]=G[B]=G[H]=G[W]=!0;var J={leading:!1,maxWait:0,trailing:!1},Q={configurable:!1,enumerable:!1,value:null,writable:!1},V={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},K={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},Z=V[typeof window]&&window||this,Y=V[typeof e]&&e&&!e.nodeType&&e,X=V[typeof t]&&t&&!t.nodeType&&t,nn=X&&X.exports===Y&&Y,tn=V[typeof n]&&n;!tn||tn.global!==tn&&tn.window!==tn||(Z=tn);var en=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=en,define(function(){return en})):Y&&X?nn?(X.exports=en)._=en:Y._=en:Z._=en}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(n,t,e){"use strict";var r=n("./utils"),o=n("path"),i=n("./fileSystem"),u=r.wrapSuccess,c=r.wrapFail;e.getFsInstance=i.getInstance,e.appendFile=function(n,t,e){i.writeFile(n,t,e,!0)},e.writeFile=function(n,t,e){i.writeFile(n,t,e,!1)},e.readFile=function(n,t,e){"function"==typeof t&&(e=t,t={encoding:"utf8"});var r=u(e),o=c(e);i.getFile(n,function(n,e){e.file(function(n){var e=new FileReader;e.onloadend=function(n){r(n.target.result)},e.onerror=function(n){o(n)},"utf8"===t.encoding?e.readAsText(n):e.readAsDataURL(n)},o)})},e.unlink=function(n,t){var e=u(t),r=c(t);i.getFile(n,function(n,t){n?r(n):t.remove(e,r)})},e.readdir=function(n,t){var e=u(t),r=c(t);i.getDirectory(n,function(n,t){if(n)r(n);else{var o=t.createReader();o.readEntries(e,r)}})},e.mkdir=function(n,t){var e=o.basename(n),u=o.dirname(n),c=r.wrapSuccess(t),a=r.wrapFail(t),f={create:!0,exclusive:!0};"."===u?i.getDirectory(e,f,t):i.getDirectory(u,function(n,r){n?t(n,null):r.getDirectory(e,f,c,a)})},e.rmdir=function(n,t){var e=u(t),r=c(t);this.readdir(n,function(t,o){t?r(t):o&&o.length>0?r("ENOTEMPTY: Directory must be empty"):i.getDirectory(n,function(n,t){n?r(n):t.remove(e,r)})})},e.exists=function(n,t){var e=u(t),r=c(t);i.getFile(n,{create:!1},function(n){n&&1===n.code?e(!1):n?r(n):e(!0)})},e.stat=function(n,t){var e=u(t),o=c(t),a=i.getFile;r.isDirectory(n)&&(a=i.getDirectory),a(n,function(n,t){n?o(n):t.getMetadata(e,o)})},e.init=function(n,t){i.init(n,function(n){n?t(n,null):i.getInstance(function(n){t(n,null)})})}},{"./fileSystem":14,"./utils":15,path:16}],14:[function(n,t,e){"use strict";function r(n,t,e){window.navigator.webkitRequestFileSystem?window.navigator.webkitRequestFileSystem(n,t,e):window.requestFileSystem?window.requestFileSystem(window.LocalFileSystem.PERSISTENT,n,t,e):window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.PERSISTENT_FLAG,n,t,e):e("NO_SUPPORT")}function o(n,t){function e(n){t(null,n)}function r(n){t(n,null)}n=n||c,navigator.webkitPersistentStorage&&navigator.webkitPersistentStorage.requestQuota?navigator.webkitPersistentStorage.requestQuota(n,e,r):window.webkitStorageInfo&&window.webkitStorageInfo.requestQuota?window.webkitStorageInfo.requestQuota(window.PERSISTENT,n,e,r):window.requestFileSystem?(i.isPhoneGap()===!0&&(n=0),e(n)):r("NO_SUPPORT")}var i=n("./utils"),u=n("path"),c=10485760,a=null;e.getInstance=function(n){a?n(null,a):f(null,n)};var f=e.init=function(n,t){o(n,function(n,e){return n?t(n,null):void r(e,function(n){a=n,t(null,e)},function(n){t(n,null)})})};e.writeFile=function(n,t,e,r){var o=i.wrapFail(e),u=i.wrapSuccess(e);this.getFile(n,{create:!0,exclusive:!1},function(n,c){return n?e(n,null):void c.createWriter(function(n){n.onwrite=function(){u(c.toURL())},n.onerror=function(n){o(n.target.error)},r===!0&&n.seek(n.length),i.isMobile()?n.write(t):n.write(new Blob([t],{type:"text/plain"}))},o)})},e.getDirectory=function(n,t,e){e||(e=t,t={create:!1});var r=i.wrapSuccess(e),o=i.wrapFail(e);a.root.getDirectory(n,t,r,o)},e.getFile=function(n,t,e){function r(n){n.getFile(o,t,f,l)}e||(e=t,t={create:!1});var o=u.basename(n),c=u.dirname(n),f=i.wrapSuccess(e),l=i.wrapFail(e);"."===c?r(a.root):this.getDirectory(c,function(n,t){n?e(n,null):r(t)})}},{"./utils":15,path:16}],15:[function(n,t,e){"use strict";e.isMobile=function(){var n=window.navigator.userAgent;return null!==n.match(/Android|iPad|iPhone|iPod|Windows Phone/)},e.isPhoneGap=function(){var n=window.location.protocol;return this.isMobile()&&n.indexOf("file")!==-1},e.supportsFileSystem=function(){return this.isPhoneGap()===!0||window.navigator.userAgent.match(/Chrome|Opera/)},e.wrapSuccess=function(n){return function(){var t=[null].concat(Array.prototype.slice.call(arguments));n.apply(n,t)}},e.wrapFail=function(n){return function(){var t=Array.prototype.slice.call(arguments),e=t[0];n.apply(n,[e,null])}},e.isDirectory=function(n){return n.lastIndexOf("/")===n.length-1}},{}],16:[function(n,t,e){(function(n){function t(n,t){for(var e=0,r=n.length-1;r>=0;r--){var o=n[r];"."===o?n.splice(r,1):".."===o?(n.splice(r,1),e++):e&&(n.splice(r,1),e--)}if(t)for(;e--;e)n.unshift("..");return n}function r(n,t){if(n.filter)return n.filter(t);for(var e=[],r=0;r<n.length;r++)t(n[r],r,n)&&e.push(n[r]);return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(n){return o.exec(n).slice(1)};e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:n.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(e=u+"/"+e,o="/"===u.charAt(0))}return e=t(r(e.split("/"),function(n){return!!n}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(n){var o=e.isAbsolute(n),i="/"===u(n,-1);return n=t(r(n.split("/"),function(n){return!!n}),!o).join("/"),n||o||(n="."),n&&i&&(n+="/"),(o?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,function(n,t){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n}).join("/"))},e.relative=function(n,t){function r(n){for(var t=0;t<n.length&&""===n[t];t++);for(var e=n.length-1;e>=0&&""===n[e];e--);return t>e?[]:n.slice(t,e-t+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var o=r(n.split("/")),i=r(t.split("/")),u=Math.min(o.length,i.length),c=u,a=0;a<u;a++)if(o[a]!==i[a]){c=a;break}for(var f=[],a=c;a<o.length;a++)f.push("..");return f=f.concat(i.slice(c)),f.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){var t=i(n),e=t[0],r=t[1];return e||r?(r&&(r=r.substr(0,r.length-1)),e+r):"."},e.basename=function(n,t){var e=i(n)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},e.extname=function(n){return i(n)[3]};var u="b"==="ab".substr(-1)?function(n,t,e){return n.substr(t,e)}:function(n,t,e){return t<0&&(t=n.length+t),n.substr(t,e)}}).call(this,n("g5I+bs"))},{"g5I+bs":17}],17:[function(n,t,e){function r(){}var o=t.exports={};o.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};if(t){var e=[];return window.addEventListener("message",function(n){var t=n.source;if((t===window||null===t)&&"process-tick"===n.data&&(n.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(n){e.push(n),window.postMessage("process-tick","*")}}return function(n){setTimeout(n,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=r,o.addListener=r,o.once=r,o.off=r,o.removeListener=r,o.removeAllListeners=r,o.emit=r,o.binding=function(n){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(n){throw new Error("process.chdir is not supported")}},{}],18:[function(n,t,e){!function(n){function t(t,e){var r=n.toString.call(t).charAt(8);return"R"===r?t.test(e):"F"===r?t(e):t==e}var e=/[\-\[\]{}()+?.,\\\^$|#\s]/g,r=/([:*])(\w+)/g;n.routeMatcher=function(n,o){var i={},u=[],c=n;return"string"==typeof n?(c=c.replace(e,"\\$&"),c=c.replace(r,function(n,t,e){return u.push(e),":"===t?"([^/]*)":"(.*)"}),c=new RegExp("^"+c+"$"),i.parse=function(n){var e,r,i=0,a={},f=n.match(c);if(!f)return null;for(;i<u.length;){if(e=u[i++],r=f[i],o&&e in o&&!t(o[e],r))return null;a[e]=r}return a},i.stringify=function(t){var e,o,i=n;for(e in t)o=new RegExp("[:*]"+e+"\\b"),i=i.replace(o,t[e]);return i.replace(r,"")}):(i.parse=function(n){var t=n.match(c);return t&&{captures:t.slice(1)}},i.stringify=function(){return""}),i}}("object"==typeof e&&e||this)},{}],19:[function(n,t,e){(function(n){"use strict";function t(t){e.defer===!0?n.nextTick(t):t()}e.defer=!1,e.stringify=function(){var n=Array.prototype.slice.call(arguments),e=n.splice(n.length-1,n.length)[0];t(function(){try{return e(null,JSON.stringify.apply(null,n))}catch(n){return e(n,null)}})},e.parse=function(){var n=Array.prototype.slice.call(arguments),e=n.splice(n.length-1,n.length)[0];t(function(){try{return e(null,JSON.parse.apply(null,n))}catch(n){return e(n,null)}})}}).call(this,n("g5I+bs"))},{"g5I+bs":17}],20:[function(n,t,e){"function"==typeof Object.create?t.exports=function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(n,t){n.super_=t;var e=function(){};e.prototype=t.prototype,n.prototype=new e,n.prototype.constructor=n}},{}],21:[function(n,t,e){t.exports=function(n){return n&&"object"==typeof n&&"function"==typeof n.copy&&"function"==typeof n.fill&&"function"==typeof n.readUInt8}},{}],22:[function(n,t,e){(function(t,r){function o(n,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&e._extend(r,t),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,n,r.depth)}function i(n,t){var e=o.styles[t];return e?"["+o.colors[e][0]+"m"+n+"["+o.colors[e][1]+"m":n}function u(n,t){return n}function c(n){var t={};return n.forEach(function(n,e){t[n]=!0}),t}function a(n,t,r){if(n.customInspect&&t&&E(t.inspect)&&t.inspect!==e.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,n);return b(o)||(o=a(n,o,r)),o}var i=f(n,t);if(i)return i;var u=Object.keys(t),y=c(u);if(n.showHidden&&(u=Object.getOwnPropertyNames(t)),S(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(t);if(0===u.length){if(E(t)){var g=t.name?": "+t.name:"";return n.stylize("[Function"+g+"]","special")}if(x(t))return n.stylize(RegExp.prototype.toString.call(t),"regexp");if(j(t))return n.stylize(Date.prototype.toString.call(t),"date");if(S(t))return l(t)}var d="",m=!1,w=["{","}"];if(v(t)&&(m=!0,w=["[","]"]),E(t)){var _=t.name?": "+t.name:"";d=" [Function"+_+"]"}if(x(t)&&(d=" "+RegExp.prototype.toString.call(t)),j(t)&&(d=" "+Date.prototype.toUTCString.call(t)),S(t)&&(d=" "+l(t)),0===u.length&&(!m||0==t.length))return w[0]+d+w[1];if(r<0)return x(t)?n.stylize(RegExp.prototype.toString.call(t),"regexp"):n.stylize("[Object]","special");n.seen.push(t);var k;return k=m?s(n,t,r,y,u):u.map(function(e){return p(n,t,r,y,e,m)}),n.seen.pop(),h(k,d,w)}function f(n,t){if(_(t))return n.stylize("undefined","undefined");if(b(t)){var e="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(e,"string")}return m(t)?n.stylize(""+t,"number"):y(t)?n.stylize(""+t,"boolean"):g(t)?n.stylize("null","null"):void 0}function l(n){return"["+Error.prototype.toString.call(n)+"]"}function s(n,t,e,r,o){for(var i=[],u=0,c=t.length;u<c;++u)R(t,String(u))?i.push(p(n,t,e,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(n,t,e,r,o,!0))}),i}function p(n,t,e,r,o,i){var u,c,f;if(f=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},f.get?c=f.set?n.stylize("[Getter/Setter]","special"):n.stylize("[Getter]","special"):f.set&&(c=n.stylize("[Setter]","special")),R(r,o)||(u="["+o+"]"),c||(n.seen.indexOf(f.value)<0?(c=g(e)?a(n,f.value,null):a(n,f.value,e-1),c.indexOf("\n")>-1&&(c=i?c.split("\n").map(function(n){return"  "+n}).join("\n").substr(2):"\n"+c.split("\n").map(function(n){return"   "+n}).join("\n"))):c=n.stylize("[Circular]","special")),_(u)){if(i&&o.match(/^\d+$/))return c;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=n.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=n.stylize(u,"string"))}return u+": "+c}function h(n,t,e){var r=0,o=n.reduce(function(n,t){return r++,t.indexOf("\n")>=0&&r++,n+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?e[0]+(""===t?"":t+"\n ")+" "+n.join(",\n  ")+" "+e[1]:e[0]+t+" "+n.join(", ")+" "+e[1]}function v(n){return Array.isArray(n)}function y(n){return"boolean"==typeof n}function g(n){return null===n}function d(n){return null==n}function m(n){return"number"==typeof n}function b(n){return"string"==typeof n}function w(n){return"symbol"==typeof n}function _(n){return void 0===n}function x(n){return k(n)&&"[object RegExp]"===F(n)}function k(n){return"object"==typeof n&&null!==n}function j(n){return k(n)&&"[object Date]"===F(n)}function S(n){return k(n)&&("[object Error]"===F(n)||n instanceof Error)}function E(n){return"function"==typeof n}function A(n){return null===n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"symbol"==typeof n||"undefined"==typeof n}function F(n){return Object.prototype.toString.call(n)}function O(n){return n<10?"0"+n.toString(10):n.toString(10)}function I(){var n=new Date,t=[O(n.getHours()),O(n.getMinutes()),O(n.getSeconds())].join(":");return[n.getDate(),N[n.getMonth()],t].join(" ")}function R(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var L=/%[sdj%]/g;e.format=function(n){if(!b(n)){for(var t=[],e=0;e<arguments.length;e++)t.push(o(arguments[e]));return t.join(" ")}for(var e=1,r=arguments,i=r.length,u=String(n).replace(L,function(n){if("%%"===n)return"%";if(e>=i)return n;switch(n){case"%s":return String(r[e++]);case"%d":return Number(r[e++]);case"%j":try{return JSON.stringify(r[e++])}catch(n){return"[Circular]"}default:return n}}),c=r[e];e<i;c=r[++e])u+=g(c)||!k(c)?" "+c:" "+o(c);return u},e.deprecate=function(n,o){function i(){if(!u){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),u=!0}return n.apply(this,arguments)}if(_(r.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(t.noDeprecation===!0)return n;var u=!1;return i};var D,T={};e.debuglog=function(n){if(_(D)&&(D=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!T[n])if(new RegExp("\\b"+n+"\\b","i").test(D)){var r=t.pid;T[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else T[n]=function(){};return T[n]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=y,e.isNull=g,e.isNullOrUndefined=d,e.isNumber=m,e.isString=b,e.isSymbol=w,e.isUndefined=_,e.isRegExp=x,e.isObject=k,e.isDate=j,e.isError=S,e.isFunction=E,e.isPrimitive=A,e.isBuffer=n("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n("inherits"),e._extend=function(n,t){if(!t||!k(t))return n;for(var e=Object.keys(t),r=e.length;r--;)n[e[r]]=t[e[r]];return n}}).call(this,n("g5I+bs"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":21,"g5I+bs":17,inherits:20}],23:[function(n,t,e){function r(){for(var n={},t=0;t<arguments.length;t++){var e=arguments[t];for(var r in e)o.call(e,r)&&(n[r]=e[r])}return n}t.exports=r;var o=Object.prototype.hasOwnProperty},{}],24:[function(n,t,e){"use strict";t.exports=["FHUtils","$window",function(n,t){function e(n){return function(t){return r({algorithm:n,text:t})}}var r=n.wrapApiFn(t.$fh.hash);return["MD5","SHA1","SHA256","SHA512"].forEach(function(n){r[n]=e(n)}),r}]},{}],25:[function(n,t,e){"use strict";var r=n("route-matcher").routeMatcher;t.exports=["$q","$timeout",function(n,t){return{count:0,preprocessors:{before:{"*":{stack:[],matcher:null}},after:{"*":{stack:[],matcher:null}},afterError:{"*":{stack:[],matcher:null}}},reset:function(){this.preprocessors={before:{"*":{stack:[],matcher:null}},after:{"*":{stack:[],matcher:null}},afterError:{"*":{stack:[],matcher:null}}}},before:function(n,t,e){this.use(this.preprocessors.before,n,t,e)},after:function(n,t,e){this.use(this.preprocessors.after,n,t,e)},afterError:function(n,t,e){this.use(this.preprocessors.afterError,n,t,e)},use:function(n,t,e,o){if("function"==typeof t)return n["*"].stack.push({fn:t,idx:this.count++});"function"!=typeof o&&(o=e,e=null);var i=this.getExistingEntryForRoute(n,t);if(i)i.stack.push({fn:o,idx:this.count++});else{var u=r.call(r,t,e);n[t]={matcher:u,stack:[{fn:o,idx:this.count++}]}}},getExistingEntryForRoute:function(n,t){for(var e in n)if(n[e].matcher&&n[e].matcher.parse(t))return n[e];return null},getProcessorsForRoute:function(n,t){var e=[];for(var r in n){var o=n[r];"*"===r?e=e.concat(o.stack):o.matcher.parse(t)&&(e=e.concat(o.stack))}return e},execBefore:function(n){var t=this.getProcessorsForRoute(this.preprocessors.before,n.path);return this.exec(t,n)},execAfter:function(n,t){var e=this,r=this.getProcessorsForRoute(this.preprocessors.after,n.path);return function(n){return e.exec(r,n).then(t.resolve,t.reject)}},execAfterError:function(n,t){var e=this,r=this.getProcessorsForRoute(this.preprocessors.afterError,n.path);return function(n){return e.exec(r,n).then(t.resolve,t.reject)}},exec:function(e,r){var o=n.defer(),i=null;return e.sort(function(n,t){return n.idx<t.idx?-1:1}),t(function(){if(0===e.length)o.resolve(r);else if(1===e.length)e[0].fn(r).then(o.resolve,o.reject,o.notify);else{i=e[0].fn(r);for(var n=1;n<e.length;n++){var t=e[n].fn;i=i.then(t,o.reject,o.notify)}i.then(o.resolve,o.reject,o.notify)}},1),o.promise}}}]},{"route-matcher":18}],26:[function(n,t,e){"use strict";t.exports=["FHUtils","$window",function(n,t){function e(n){return function(t){return r({act:n,params:t})}}var r=n.wrapApiFn(t.$fh.sec);return["keygen","encrypt","decrypt"].forEach(function(n){
r[n]=e(n)}),r}]},{}],27:[function(n,t,e){"use strict";t.exports=function(t){t.factory("Processors",n("./Processors.js")).factory("FHSec",n("./Sec.js")).factory("FHHash",n("./Hash.js"))}},{"./Hash.js":24,"./Processors.js":25,"./Sec.js":26}],28:[function(n,t,e){"use strict";var r=angular.module("ngFeedHenry",["ng"]);n("./factories")(r),n("./services")(r),t.exports="ngFeedHenry"},{"./factories":27,"./services":31}],29:[function(n,t,e){"use strict";var r=n("xtend"),o=n("fhlog"),i=window.$fh,u={method:"GET",path:"/",timeout:3e4,contentType:"application/json",data:{}};t.exports=["Processors","$q","$timeout",function(n,t,e){function c(o){function c(e){i.cloud(e,n.execAfter(o,a),function(e,r){var i=t.defer(),u=n.execAfterError(o,i),c=r;c.data=e,c.options=o,i.promise.then(function(n){a.resolve(n)},function(n){a.reject(n||new Error("No Response"))}),u(c)})}var a=t.defer();return o=r(u,o),e(function(){f.debug("Call with path: %s",o.path),n.execBefore(o).then(c,a.reject,a.notify)},0),a.promise}function a(n){return function(t,e){return c({path:t,data:e,method:n.toUpperCase()})}}var f=o.getLogger("FH.Cloud");this.before=n.before.bind(n),this.after=n.after.bind(n),this.afterError=n.afterError.bind(n),this.get=a("GET"),this.put=a("PUT"),this.post=a("POST"),this.head=a("HEAD"),this.del=a("DELETE"),this.request=function(n){return c(n)},this.getDefaultTimeout=function(){return u.timeout},this.setDefaultTimeout=function(n){u.timeout=n},this.disableLogging=function(){f.setSilent(!0)},this.enableLogging=function(){f.setSilent(!1)}}]},{fhlog:5,xtend:23}],30:[function(n,t,e){"use strict";t.exports=["$rootScope","$timeout","$window","$q",function(n,t,e,r){this.wrapApiFn=function(n){return function(e){var o=r.defer();return t(function(){n(e,function(n){o.resolve(n)},o.reject)}),o.promise}}}]},{}],31:[function(n,t,e){"use strict";t.exports=function(t){t.service("FHUtils",n("./Utils.js")).service("FHCloud",n("./Cloud.js"))}},{"./Cloud.js":29,"./Utils.js":30}]},{},[28]);